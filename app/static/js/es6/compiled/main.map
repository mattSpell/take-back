{"version":3,"sources":["/Users/mattspell/Documents/Code/take-back/app/static/js/es6/main.es6.js"],"names":[],"mappings":"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","sourcesContent":["/*global google:true*/\n/*jshint unused:false*/\n/*jshint camelcase:false*/\n/*jshint -W030 */\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  var map;\n  function init(){\n    initMap(36.15, -86.78, 12);\n    addMarkers();\n    initFilter();\n    $('body').on('click', '#submit', upload);\n    // $('body').on('click', '#nuke', nuke);\n    // LAYOUT CHANGE FOR RESPONSIVENESS\n    if($(window).width() <= 769){\n      $('#chatContain').insertBefore('.report');\n    }\n  }\n\n  // function nuke(){\n  //\n  // }\n\n  function upload(){\n      $('#reportThis').submit(function() {\n      $(this).ajaxSubmit({success: function(report) {\n          var html = `<div data-lat=${report.report.latlong[0]} data-long=${report.report.latlong[1]}\n          data-type=${report.report.type} data-desc=${report.report.desc} class=\"well well-sm visible\">\n          <div class=\"date\"><p>${report.report.date}</p></div>\n          <div class=\"type\"><img src=\"/img/${report.report.type}.png\" class=\"icon\"></div>\n          <div class=\"content\"><p>${report.report.desc}</p><p class=\"hide\">${report.report.type}</p></div>\n          <div class=\"address\"><h5>${report.report.street}</h5><h5>${report.report.city} ${report.report.state} ${report.report.zip}</h5></div>`;\n          var imgs = [];\n          report.report.photos.map(p=>{\n            imgs.push(`<div data-img=\"/img/${report.report.userId}/${p.originalFilename}\" class=\"gone toolPhoto\"></div>`);\n          });\n          imgs.forEach(p=>{\n            html = html + p;\n          });\n          var end = '</div>';\n          // console.log(html);\n          $('#report-container').append(html + end);\n          addMarkers();\n          $('#close').trigger('click');\n          }\n        });\n      return false;\n    });\n  }\n\n  function initFilter(){\n    // REGEX FILTER\n    var wells = $('#report-container').find('.well-sm');\n    wells.addClass('visible');\n    $('#filter').keyup(function(event){\n      // ESCAPE KEY CLEARS FILTER INPUT\n      if (event.keyCode === 27 || $(this).val() === '') {\n      $(this).val('');\n      wells.removeClass('visible').show().addClass('visible');\n    } else {\n      filterThis(wells, $(this).val());\n      }\n    });\n  }\n\n  function filterThis(selector, query) {\n    query =   $.trim(query);\n    query = query.replace(/ /gi, '|');\n    $(selector).each(function() {\n      ($(this).text().search(new RegExp(query, 'i')) < 0) ? $(this).hide().removeClass('visible') : $(this).show().addClass('visible');\n    });\n  }\n\n  function addMarkers(){\n    var photos;\n    var wells = $('#report-container').find('.well-sm');\n    wells.each(function(){\n      var well = $(this);\n      var desc = well.attr('data-desc');\n      var date = well.find('.date').text();\n      var type = well.attr('data-type');\n      var address = well.find('.address').text();\n      var images = well.find('.gone');\n      var imgs = $.makeArray(images);\n      photos = imgs.map(function(img){\n        var filepath = $(img).attr('data-img');\n        var html = '<img src=' + filepath + ' class=\"toolPhoto\">';\n        return html;\n      });\n      var icon = `../img/${type}.png`;\n      var lat = $(this).attr('data-lat');\n      var long = $(this).attr('data-long');\n      var point = new google.maps.LatLng(parseFloat(lat),parseFloat(long));\n      var marker = new google.maps.Marker({\n        position: point,\n        icon: icon,\n        map: map\n      });\n      var infoWindow = new google.maps.InfoWindow();\n      var content = '<h4>'+date+'</h4>'+'<p>'+desc+'</p><h6>'+address+'</h6>';\n      photos.forEach(p=>{\n        content = p + content;\n      });\n      google.maps.event.addListener(marker, 'click', function(){\n        infoWindow.setContent(content);\n        infoWindow.open(map, marker);\n      });\n    });\n  }\n\n  function initMap(lat, lng, zoom){\n    let styles = [{'elementType':'geometry','stylers':[{'hue':'#ff4400'},{'saturation':-68},{'lightness':-4},{'gamma':0.72}]},{'featureType':'road','elementType':'labels.icon'},{'featureType':'landscape.man_made','elementType':'geometry','stylers':[{'hue':'#0077ff'},{'gamma':3.1}]},{'featureType':'water','stylers':[{'hue':'#00ccff'},{'gamma':0.44},{'saturation':-33}]},{'featureType':'poi.park','stylers':[{'hue':'#44ff00'},{'saturation':-23}]},{'featureType':'water','elementType':'labels.text.fill','stylers':[{'hue':'#007fff'},{'gamma':0.77},{'saturation':65},{'lightness':99}]},{'featureType':'water','elementType':'labels.text.stroke','stylers':[{'gamma':0.11},{'weight':5.6},{'saturation':99},{'hue':'#0091ff'},{'lightness':-86}]},{'featureType':'transit.line','elementType':'geometry','stylers':[{'lightness':-48},{'hue':'#ff5e00'},{'gamma':1.2},{'saturation':-23}]},{'featureType':'transit','elementType':'labels.text.stroke','stylers':[{'saturation':-64},{'hue':'#ff9100'},{'lightness':16},{'gamma':0.47},{'weight':2.7}]}];\n    let mapOptions = {center: new google.maps.LatLng(lat, lng), zoom: zoom, mapTypeId: google.maps.MapTypeId.ROADMAP, styles:styles};\n    map = new google.maps.Map(document.getElementById('map'), mapOptions);\n  }\n})();\n"]}