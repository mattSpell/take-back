{"version":3,"file":"sockets.js","sources":["/Users/mattspell/Documents/Code/take-back/app/static/js/es6/sockets.es6.js","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"AAGA,CAAC,SAAS;AACR,CAAA,aAAY,CAAC;AAEb,CAAA,EAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AAE1B,CAAJ,IAAI,CAAA,MAAM,CAAC;CAEX,SAAS,WAAU,CAAC,CAAC;AACnB,CAAA,qBAAkB,EAAE,CAAC;AACrB,CAAA,IAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACxB;AAED,CAFC,SAEQ,KAAI,CAAC,CAAC;AACT,CAAJ,MAAI,CAAA,OAAO,EAAG,CAAA,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;AAClC,CAAA,IAAC,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACtB,CAAA,SAAM,KAAK,CAAC,aAAa,CAAE,EAAC,OAAO,CAAC,QAAO,CAAC,CAAC,CAAC;GAC/C;AAED,CAFC,SAEQ,eAAc,CAAC,IAAI,CAAC;AAC3B,CAAA,IAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,uBAAuB,EAAE,CAAA,IAAI,MAAM,CAAA,CAAE,UAAS,CAAA,CAAE,CAAA,IAAI,QAAQ,CAAA,CAAE,SAAQ,CAAC,CAAC,CAAC;GAC9F;AAED,CAFC,SAEQ,mBAAkB,CAAC,CAAC;AAC3B,CAAA,SAAM,EAAG,CAAA,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC5B,CAAA,SAAM,GAAG,CAAC,QAAQ,CAAE,OAAM,CAAC,CAAC;AAC5B,CAAA,SAAM,GAAG,CAAC,iBAAiB,CAAE,eAAc,CAAC,CAAC;GAC9C;AAED,CAFC,SAEQ,OAAM,CAAC,IAAI;AACd,CAAJ,MAAI,CAAA,IAAI,EAAG,CAAA,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC;AAC7B,CAAA,IAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AAEpB,CAAA,OAAI,QAAQ,EAAC,SAAA,CAAC;AACR,CAAJ,QAAI,CAAA,KAAK,EAAG,CAAA,IAAI,CCpCJ,eAAe,WAAW,CDoCrB,CAAC,CCpCuC,CAAC,MDoCjC,CAAC;AAC1B,CAAA,MAAC,CAAC,QAAQ,CAAC,OAAO,EAAC,MAAO,EAAA,MAAK,EAAA,QAAO,EAAC,CAAC;KACzC,EAAC,CAAC;GAEJ;CACF,CAAC,EAAE,CAAC","sourcesContent":["/* global io */\n/*jshint unused:false*/\n\n(function(){\n  'use strict';\n\n  $(document).ready(initialize);\n\n  var socket;\n\n  function initialize(){\n    initializeSocketIo();\n    $('#send').click(send);\n  }\n\n  function send(){\n    var message = $('#message').val();\n    $('#message').val('');\n    socket.emit('sendmessage', {message:message});\n  }\n\n  function receiveMessage(data){\n    $('#chat').append($('<div class=\"message\">' +data.email+ ' said: ' +data.message+ '</div>'));\n  }\n\n  function initializeSocketIo(){\n    socket = io.connect('/app');\n    socket.on('online', online);\n    socket.on('receive-message', receiveMessage);\n  }\n\n  function online(data){\n    var keys = Object.keys(data);\n    $('#users').empty();\n\n    keys.forEach(k=>{\n      var email = data[k].email;\n      $('#users').append(`<li>${email}</li>`);\n    });\n\n  }\n})();\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]"]}