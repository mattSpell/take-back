{"version":3,"sources":["/Users/mattspell/Documents/Code/take-back/app/static/js/es6/sockets.es6.js","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"AAGA,AAAC,SAAQ,AAAC;AACR,aAAW,CAAC;AAEZ,EAAA,AAAC,CAAC,QAAO,CAAC,MAAM,AAAC,CAAC,UAAS,CAAC,CAAC;AAE7B,AAAI,IAAA,CAAA,MAAK,CAAC;AAEV,SAAS,WAAS,CAAC,AAAC,CAAC;AACnB,qBAAiB,AAAC,EAAC,CAAC;AACpB,IAAA,AAAC,CAAC,OAAM,CAAC,MAAM,AAAC,CAAC,IAAG,CAAC,CAAC;EACxB;AAAA,AAEA,SAAS,KAAG,CAAC,AAAC,CAAC;AACb,AAAI,MAAA,CAAA,OAAM,EAAI,CAAA,CAAA,AAAC,CAAC,UAAS,CAAC,IAAI,AAAC,EAAC,CAAC;AACjC,IAAA,AAAC,CAAC,UAAS,CAAC,IAAI,AAAC,CAAC,EAAC,CAAC,CAAC;AACrB,SAAK,KAAK,AAAC,CAAC,aAAY,CAAG,EAAC,OAAM,CAAE,QAAM,CAAC,CAAC,CAAC;EAC/C;AAAA,AAEA,SAAS,eAAa,CAAE,IAAG,CAAE;AAC3B,UAAM,IAAI,AAAC,CAAC,IAAG,CAAC,CAAC;AACjB,AAAI,MAAA,CAAA,EAAC,EAAI,CAAA,CAAA,AAAC,CAAC,SAAQ,CAAC,KAAK,AAAC,CAAC,SAAQ,CAAC,CAAC;AACrC,UAAM,IAAI,AAAC,CAAC,EAAC,CAAC,CAAC;AACf,IAAA,AAAC,CAAC,OAAM,CAAC,OAAO,AAAC,CAAC,CAAA,AAAC,CAAC,uBAAsB,EAAG,CAAA,IAAG,MAAM,CAAA,CAAG,UAAQ,CAAA,CAAG,CAAA,IAAG,QAAQ,CAAA,CAAG,SAAO,CAAC,CAAC,CAAC;EAC9F;AAAA,AAEA,SAAS,mBAAiB,CAAC,AAAC,CAAC;AAC3B,SAAK,EAAI,CAAA,EAAC,QAAQ,AAAC,CAAC,MAAK,CAAC,CAAC;AAC3B,SAAK,GAAG,AAAC,CAAC,QAAO,CAAG,OAAK,CAAC,CAAC;AAC3B,SAAK,GAAG,AAAC,CAAC,iBAAgB,CAAG,eAAa,CAAC,CAAC;EAC9C;AAAA,AAEA,SAAS,OAAK,CAAE,IAAG;AACjB,AAAI,MAAA,CAAA,IAAG,EAAI,CAAA,MAAK,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAC5B,IAAA,AAAC,CAAC,QAAO,CAAC,MAAM,AAAC,EAAC,CAAC;AAEnB,OAAG,QAAQ,AAAC,EAAC,SAAA,CAAA;AACX,AAAI,QAAA,CAAA,KAAI,EAAI,CAAA,IAAG,CCvCH,eAAc,WAAW,AAAC,CDuCrB,CAAA,CCvCuC,CAAC,MDuCjC,CAAC;AACzB,MAAA,AAAC,CAAC,QAAO,CAAC,OAAO,AAAC,EAAC,MAAM,EAAC,MAAI,EAAC,QAAM,EAAC,CAAC;IACzC,EAAC,CAAC;EAEJ;AACF,CAAC,AAAC,EAAC,CAAC","sourcesContent":["/* global io */\n/*jshint unused:false*/\n\n(function(){\n  'use strict';\n\n  $(document).ready(initialize);\n\n  var socket;\n\n  function initialize(){\n    initializeSocketIo();\n    $('#send').click(send);\n  }\n\n  function send(){\n    var message = $('#message').val();\n    $('#message').val('');\n    socket.emit('sendmessage', {message:message});\n  }\n\n  function receiveMessage(data){\n    console.log(data);\n    var id = $('#userId').attr('data-id');\n    console.log(id);\n    $('#chat').append($('<div class=\"message\">' +data.email+ ' said: ' +data.message+ '</div>'));\n  }\n\n  function initializeSocketIo(){\n    socket = io.connect('/app');\n    socket.on('online', online);\n    socket.on('receive-message', receiveMessage);\n  }\n\n  function online(data){\n    var keys = Object.keys(data);\n    $('#users').empty();\n\n    keys.forEach(k=>{\n      var email = data[k].email;\n      $('#users').append(`<li>${email}</li>`);\n    });\n\n  }\n})();\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]"]}